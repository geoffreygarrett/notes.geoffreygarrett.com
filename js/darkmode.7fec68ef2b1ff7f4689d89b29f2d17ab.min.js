const userPref=window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark",currentTheme=localStorage.getItem("theme")??userPref;function sendMessage(t){const e=document.querySelector("iframe.giscus-frame");if(!e)return;e.contentWindow.postMessage({giscus:t},"https://giscus.app")}currentTheme&&document.documentElement.setAttribute("saved-theme",currentTheme);function giscusChangeTheme(t){const e=document.getElementsByClassName("giscus-wrapper");if(e.length===0)return;if(t==="dark"){const t=e[0].getAttribute("data-giscus-dark-theme");sendMessage({setConfig:{theme:t||"https://giscus.app/themes/dark.css"}})}else{const t=e[0].getAttribute("data-giscus-light-theme");sendMessage({setConfig:{theme:t||"https://giscus.app/themes/light.css"}})}}const switchTheme=e=>{e.target.checked?(document.documentElement.setAttribute("saved-theme","dark"),localStorage.setItem("theme","dark"),giscusChangeTheme("dark")):(document.documentElement.setAttribute("saved-theme","light"),localStorage.setItem("theme","light"),giscusChangeTheme("light"))};function handleMessage(e){if(e.origin!=="https://giscus.app")return;if(!(typeof e.data=="object"&&e.data.giscus))return;giscusChangeTheme(localStorage.getItem("theme")??currentTheme)}window.addEventListener("message",handleMessage),window.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("#darkmode-toggle");e.addEventListener("change",switchTheme,!1),currentTheme==="dark"&&(e.checked=!0)})