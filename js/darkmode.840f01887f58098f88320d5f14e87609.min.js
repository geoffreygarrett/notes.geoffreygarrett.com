const userPref=window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark",currentTheme=localStorage.getItem("theme")??userPref,giscusLoaded=!1;function sendMessage(t){const e=document.querySelector("iframe.giscus-frame");e?e.contentWindow.postMessage({giscus:t},"https://giscus.app"):console.log("there is no god")}function giscusTheme(e){e==="dark"?sendMessage({setConfig:{theme:"https://giscus.app/themes/dark_dimmed.css"}}):sendMessage({setConfig:{theme:"https://giscus.app/themes/light.css"}})}currentTheme&&(document.documentElement.setAttribute("saved-theme",currentTheme),giscusTheme(currentTheme));const switchTheme=e=>{e.target.checked?(document.documentElement.setAttribute("saved-theme","dark"),localStorage.setItem("theme","dark"),giscusTheme("dark")):(document.documentElement.setAttribute("saved-theme","light"),localStorage.setItem("theme","light"),giscusTheme("light"))};function handleMessage(e){if(e.origin!=="https://giscus.app")return;if(!(typeof e.data=="object"&&e.data.giscus))return;const t=e.data.giscus;giscusTheme(currentTheme),window.removeEventListener("message",handleMessage,!0)}window.addEventListener("message",handleMessage),window.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("#darkmode-toggle");e.addEventListener("change",switchTheme,!1),currentTheme==="dark"&&(e.checked=!0)})